<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="https://npm.elemecdn.com/jquery-ui@1.12.1/themes/base/all.css">
	<link rel="stylesheet" href="./cat.css" type="text/css">
	<link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css"
		media="all" onload="this.media='all'">
	<script src="https://npm.elemecdn.com/jquery@2.2.4/dist/jquery.min.js"></script>
	<script src="https://npm.elemecdn.com/jquery-ui@1.13.2/dist/jquery-ui.min.js"></script>
	<script src="https://npm.elemecdn.com/jquery-ui-touch-punch@0.2.3/jquery.ui.touch-punch.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Purrli | Cloudchewie</title>
	<meta name="keywords"
		content="cat, cat purr, sotthing, background noise, relaxing sounds, ambient noise, ambient sounds">
	<meta name="description"
		content="Not just a cat purr, but a cat purring next to you. Purrli recreates the sound and the presence of a cat, online. It's soothing, it's free, and it's purrfect!">
	<meta name="author" content="Dr. Ir. Stéphane Pigeon">
	<link rel="apple-touch-icon" sizes="180x180" href="https://picbed.cloudchewie.com/cat/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="https://picbed.cloudchewie.com/cat/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://picbed.cloudchewie.com/cat/favicon-16x16.png">
	<link rel="manifest" href="./manifest.json">
	<link rel="mask-icon" href="https://picbed.cloudchewie.com/cat/safari-pinned-tab.svg" color="#483858">
	<meta name="theme-color" content="#ffffff">
	<link rel="image_src" href="https://picbed.cloudchewie.com/cat/purrliScreenshot_sqr.png">
	<meta property="og:image" content="https://picbed.cloudchewie.com/cat/purrliScreenshot_fb.png">
	<meta property="og:url" content="https://purrli.com">
	<meta property="og:title" content="The Internet has a Cat! Meet Purrli, the online cat purr generator.">
	<meta property="og:description"
		content="Not just a cat purr, but a cat purring next to you. Purrli recreates the sound and the presence of a cat, online. It's soothing, it's free, and it's purrfect!">
</head>

<body onload="init()">

	<div id="myFsBg" class="overlayFsBg" onclick="closeWarning()" style="background: rgb(0, 0, 0); right: -100%;">
		<div id="myFsImg" class="overlayFsBreathe" "=""></div>
	<div class=" caption"><span id="featuredCat"></span></div>
		<div id="warning" class="navCentered" style="visibility: hidden;">
			<p>需要佩戴耳机或使用外部扬声器：小型手机或笔记本电脑扬声器不兼容猫发出的低频率的呼噜声！</p>
			<p><img id="myFsImg" src="https://picbed.cloudchewie.com/cat/headphone.png" width="25%"
					style="opacity:1;cursor:pointer;"></p>
			<p>轻按关闭</p>
		</div>
	</div>

	<div class="tile1">
		<div class="anchor" id="anchor_player"></div>
		<div id="title"><img src="https://picbed.cloudchewie.com/cat/purrliCat.png" width="32px"> Purrli<span
				class="reg">®</span> </div>
		<div id="subtitle">The Internet has a Cat</div>
		<div class="ctrSection">
			<img src="https://picbed.cloudchewie.com/cat/volDown.png" class="ctrlImg" onclick="volDown()"
				onmouseover="msg('降低音量')" alt="Volume Down">
			<img id="levelBars" src="https://picbed.cloudchewie.com/cat/level1.png" class="lvlImg" alt="Level Bars">
			<img src="https://picbed.cloudchewie.com/cat/volUp.png" class="ctrlImg" onclick="volUp()"
				onmouseover="msg('增大音量')" alt="Volume Up">
			<img src="https://picbed.cloudchewie.com/cat/mute.png" id="mute" class="ctrlImg" onclick="toggleMute()"
				onmouseover="msg('最后一声呼噜后我就停下来啦，保证！')" alt="Mute">
			<img src="https://picbed.cloudchewie.com/cat/fullscreen.png" id="fullscreen" class="ctrlImg"
				onclick="toggleFullScreen()" onmouseover="msg('沉浸式听呼噜声！')" alt="FullScreen">
			<div class="timer"><img src="https://picbed.cloudchewie.com/cat/timer.png" id="timer" class="ctrlImg ctrlOn"
					onclick="cycleTimer()" onmouseover="msg('设置定时器以静音/取消静音')" alt="Timer"><br><span
					id="remainingTime">14</span>
			</div>
		</div>

		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">慵懒</td>
						<td align="right">欢快</td>
					</tr>
				</tbody>
			</table>
			<div id="tempo" onmouseover="msg('控制呼吸频率')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 43%;"></span></div>
		</div>
		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">稳定</td>
						<td align="right">跳跃</td>
					</tr>
				</tbody>
			</table>
			<div id="variability" onmouseover="msg('控制呼吸频率变化程度')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 50%;"></span></div>
		</div>
		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">呼气</td>
						<td align="right">吸气</td>
					</tr>
				</tbody>
			</table>
			<div id="symmetry" onmouseover="msg('改变呼气和吸气的响度比例')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 50%;"></span></div>
		</div>
		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">放松</td>
						<td align="right">兴奋</td>
					</tr>
				</tbody>
			</table>
			<div id="size" onmouseover="msg('改变呼噜音调')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 50%;"></span></div>
		</div>
		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">离你近</td>
						<td align="right">离你远</td>
					</tr>
				</tbody>
			</table>
			<div id="filter" onmouseover="msg('控制你和呼噜声的距离')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 50%;"></span></div>
		</div>
		<div class="sliderGroup">
			<table width="100%">
				<tbody>
					<tr>
						<td align="left">只有呼噜声</td>
						<td align="right">时不时喵喵叫</td>
					</tr>
				</tbody>
			</table>
			<div id="meow" onmouseover="msg('你喜欢听猫喵喵叫吗？')"
				class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><span tabindex="0"
					class="ui-slider-handle ui-corner-all ui-state-default" style="left: 17%;"></span></div>
		</div>

		<div id="msg">设置定时器以静音/取消静音</div>

		<footer id="footer">
			<div id="footer-wrap">
				<div class="copyright">©2022 By Cloudchewie & <a href="https://purrli.com/" target="_blank">Purrli</a>
				</div>
			</div>
		</footer>

	</div>

	<script>
		var sessName = "";
		var PPM = 30;
		var PPMIN = 20;
		var PPMAX = 100;
		var INFILE, EXFILE, TIN, PIN, PEX, INENVL, INENVT, EXENVL, EXENVT, BASETONE;
		var TONE = 1;
		var STRETCH = 1;
		var SYMMETRY = 0;
		var RANDOMNESS = 0;
		var VARIABILITY = 0.5;
		var MEOW = 0.09;
		var VOL = 4;
		var T;

		var inSound, exSound;
		var purrCycle = 0;
		var globalR;
		var bWEBAUDIO = 0;
		var bSUSPENDED = 0;
		var bMUTE = 0;
		var globalLevel = VOL / 5;
		var fileExt;
		var path = './audio/';
		var refTimeIn;
		var audioTimer;
		var mSprites = new Array();
		var bTimeToMeow;
		var iTimer = -1;
		var timerEndTime = 0;
		var bPurrIn = 0;
		var timerTimeout;
		var savedCatImg;
		var rollingCode;
		var bBREATHE = 0;
		var bMEOWING = 0;

		var context;
		var inEnv, exEnv, inGain, exGain, meowGain, masterGain, filter1, filter2, convolver;
		var sound = new Array();
		var bufferList;
		var bufferLoader;

		function BufferLoader(context, urlList, callback) {
			this.context = context;
			this.urlList = urlList;
			this.onload = callback;
			this.bufferSubList = new Array();
			this.loadCount = 0;
		}

		BufferLoader.prototype.loadBuffer = function (url, index) {

			var request = new XMLHttpRequest();

			request.open("GET", url, true);
			request.responseType = "arraybuffer";

			var loader = this;

			request.onload = function () {
				loader.context.decodeAudioData(
					request.response,
					function (buffer) {
						if (!buffer) {
							alert('error decoding file data: ' + url);
							return;
						}
						loader.bufferSubList[index] = buffer;
						if (++loader.loadCount == loader.urlList.length)
							loader.onload(loader.bufferSubList);
					}
				);
			}
			request.onerror = function () { }
			request.send();
		}

		BufferLoader.prototype.load = function (channel) {
			for (var i = 0; i < this.urlList.length; ++i)
				this.loadBuffer(this.urlList[i], i);
		}

		function webAudioContextCheck() {
			if (context.state == "suspended") {
				bSUSPENDED = 1;
				window.addEventListener('click', resumeContext, false);
				window.addEventListener('touched', resumeContext, false);
			}
		}

		function resumeContext() {
			context.resume();
			window.removeEventListener('click', resumeContext);
			window.removeEventListener('touched', resumeContext);
			bSUSPENDED = 0;
		}

		function init() {

			var a = document.createElement('audio');
			fileExt = ".mp3";
			if (!!(a.canPlayType && a.canPlayType('audio/mp4;').replace(/no/, ''))) { fileExt = ".m4a"; };
			if (!!(a.canPlayType && a.canPlayType('audio/ogg;').replace(/no/, ''))) { fileExt = ".ogg"; };

			if (typeof webkitAudioContext !== "undefined") bWEBAUDIO = 1;
			if (typeof AudioContext !== "undefined") bWEBAUDIO = 1;

			if (bWEBAUDIO) {
				if (typeof AudioContext !== 'undefined') context = new AudioContext();
				else context = new webkitAudioContext();

				inEnv = context.createGain();
				exEnv = context.createGain();
				inGain = context.createGain();
				exGain = context.createGain();
				meowGain = context.createGain();
				masterGain = context.createGain();

				masterGain.gain.setValueAtTime(Math.pow(globalLevel, 1), context.currentTime);
				inEnv.gain.setValueAtTime(0, context.currentTime);
				exEnv.gain.setValueAtTime(0, context.currentTime);
				inGain.gain.value = 1;
				exGain.gain.value = 1;
				meowGain.gain.value = 0.5;

				filter1 = context.createBiquadFilter();
				filter1.type = "lowshelf";
				filter1.frequency.value = 75;
				filter1.Q.value = 1;
				filter1.gain.value = -18;


				filter2 = context.createBiquadFilter();
				filter2.type = "peaking";
				filter2.frequency.value = 20000;
				filter2.Q.value = 0.5;
				filter2.gain.value = 0;
				filter1.connect(filter2);
				filter2.connect(context.destination);

				meowGain.connect(masterGain);
				masterGain.connect(filter1);
				exEnv.connect(exGain);
				inEnv.connect(inGain);
				exGain.connect(masterGain);
				inGain.connect(masterGain);
			}
			else alert('Purrli relies on the Web Audio API which is missing here, on your browser. To enjoy Purrli, please use a recent version of Chrome, Edge, Safari or Firefox (basically everything but Internet Explorer).');


			loadParam();
			buildUI();
			TONE = BASETONE;

			timeOut = performance.now();
			loadSoundSetAndPlay();
		}

		function loadParam() {
			INFILE = "aa"; EXFILE = "ab"; MFILE = "ac";
			mSprites = [0, 0.8, 1.2, 2.5, 3.5, 4.4, 5.5, 6.3, 7.1, 7.8, 8.6, 9.7, 10.6, 11.6, 12.6, 13.7, 15.1, 16.3, 17.4, 18.6, 19.3];
			PPM = 35; TIN = 0.5; PIN = 0.03; PEX = 0.03;
			BASETONE = 1.0;
			INENVL = [0, 0.2, 0.8, 0.8, 0];
			INENVT = [0, 0.2, 0.5, 1, 1.25];
			EXENVL = [0.8, 0.8, 0];
			EXENVT = [0.1, 1, 1.35];
		}

		function buildUI() {

			$("#volIco").html("<img src='https://picbed.cloudchewie.com/cat/slider_vol-.png' class='sliderIcon pTn' alt='Volume' title='Volume Down' onclick='$(\"#volume\").slider(\"value\",$(\"#volume\").slider(\"option\",\"value\")-10);'>");
			$("#volIcoR").html("<img src='https://picbed.cloudchewie.com/cat/slider_vol+.png' class='sliderIcon pTn' alt='Volume' title='Volume Up' onclick='$(\"#volume\").slider(\"value\",$(\"#volume\").slider(\"option\",\"value\")+10);'>");
			$(function () {
				$("#tempo").slider({
					animate: "slow",
					min: 0,
					max: 1,
					value: Math.pow((PPM - PPMIN) / (PPMAX - PPMIN), 0.5),
					step: 0.01,
					slide: function (e, ui) {
						setPPM(ui.value);
					},
					change: function (e, ui) {
						setPPM(ui.value);
					}
				});
			});
			$(function () {
				$("#size").slider({
					animate: "slow",
					min: 0,
					max: 1,
					step: 0.01,
					value: 0.5,
					slide: function (e, ui) {
						setTone(ui.value);
					},
					change: function (e, ui) {
						setTone(ui.value);
					}
				});
			});
			$(function () {
				$("#symmetry").slider({
					animate: "slow",
					min: 0,
					max: 1,
					step: 0.01,
					value: 0.5,
					slide: function (e, ui) {
						setSymmetry(ui.value);
					},
					change: function (e, ui) {
						setSymmetry(ui.value);
					}
				});
			});
			$(function () {
				$("#variability").slider({
					animate: "slow",
					min: 0,
					max: 1,
					step: 0.01,
					value: 0.5,
					value: VARIABILITY,
					slide: function (e, ui) {
						setVariability(ui.value);
					},
					change: function (e, ui) {
						setVariability(ui.value);
					}
				});
			});
			$(function () {
				$("#filter").slider({
					animate: "slow",
					min: 0,
					max: 1,
					step: 0.01,
					value: 0.5,
					slide: function (e, ui) {
						setFilter(ui.value);
					},
					change: function (e, ui) {
						setFilter(ui.value);
					}
				});
			});
			$(function () {
				$("#meow").slider({
					animate: "slow",
					min: 0,
					max: 1,
					step: 0.01,
					value: 0.05,
					slide: function (e, ui) {
						setMeow(ui.value);
					},
					change: function (e, ui) {
						setMeow(ui.value);
					}
				});
			});
		}

		function volUp() {
			if (bMUTE) toggleMute();
			else {
				if (++VOL == 6) VOL = 5;
				globalLevel = VOL / 5;
				masterGain.gain.cancelScheduledValues(context.currentTime);
				masterGain.gain.setValueAtTime(masterGain.gain.value, context.currentTime);
				masterGain.gain.linearRampToValueAtTime(Math.pow(globalLevel, 1), context.currentTime + 0.2);
				$('#levelBars').attr("src", "https://picbed.cloudchewie.com/cat/level" + VOL + ".png");
			}
		}

		function volDown() {
			if (bMUTE) toggleMute();
			else {
				if (--VOL == -1) VOL = 0;
				globalLevel = VOL / 5;
				masterGain.gain.cancelScheduledValues(context.currentTime);
				masterGain.gain.setValueAtTime(masterGain.gain.value, context.currentTime);
				masterGain.gain.linearRampToValueAtTime(Math.pow(globalLevel, 1), context.currentTime + 0.2);
				$('#levelBars').attr("src", "https://picbed.cloudchewie.com/cat/level" + VOL + ".png");
			}
		}
		function isFullScreen() {
			var isFull = document.fullScreen || document.fullscreenElement !== null;
			if (isFull === undefined) isFull = false;
			return isFull;
		}

		function toggleFullScreen() {
			if (isFullScreen()) {
				document.exitFullscreen();
				$("#fullscreen").removeClass("ctrlOn");
			} else {
				document.documentElement.requestFullscreen();
				$("#fullscreen").addClass("ctrlOn");
			}
		}

		function toggleMute() {
			bMUTE = 1 - bMUTE;
			if (bMUTE == 0) {
				if (bPurrIn == 0) purrIn();
				$('#mute').removeClass('ctrlOn');
			}
			else {
				$('#mute').addClass('ctrlOn');
			}
		}

		var _0x3de9 = ["\x70\x6F\x77", "\x72\x6F\x75\x6E\x64", "\x20\x50\x75\x72\x72\x73\x20\x50\x65\x72\x20\x4D\x69\x6E\x75\x74\x65", "\x25", "\x76\x61\x6C\x75\x65", "\x66\x72\x65\x71\x75\x65\x6E\x63\x79", "\x67\x61\x69\x6E", "\x4C\x6F\x77\x20\x61\x6E\x64\x20\x48\x69\x67\x68\x73", "\x4D\x75\x66\x66\x6C\x65\x64", "\x4D\x6F\x72\x65\x20\x6C\x6F\x77\x73\x2C\x20\x6C\x65\x73\x73\x20\x68\x69\x67\x68\x73", "\x42\x61\x6C\x61\x6E\x63\x65\x64", "\x4D\x65\x6C\x6C\x6F\x77", "\x42\x61\x6C\x61\x6E\x63\x65\x64\x2C\x20\x62\x75\x74\x20\x72\x65\x61\x6C\x6C\x79\x20\x66\x61\x72\x20\x61\x77\x61\x79", "\x25\x20\u2022\x20", "\x25\x20\u2022\x20\x41\x72\x6F\x75\x6E\x64\x20", "\x20\x4D\x50\x4D\x20\x28\x4D\x65\x6F\x77\x73\x20\x50\x65\x72\x20\x4D\x69\x6E\x75\x74\x65\x29", "\x25\x20\u2022\x20\x41\x72\x6F\x75\x6E\x64\x20\x6F\x6E\x65\x20\x4D\x65\x6F\x77\x20\x65\x76\x65\x72\x79\x20", "\x20\x6D\x69\x6E\x75\x74\x65\x28\x73\x29", "\x25\x20\u2022\x20\x50\x75\x72\x65\x20\x70\x75\x72\x72\x69\x6E\x67\x2E\x2E\x2E"]; function setPPM(_0x2f39x2) { PPM = Math[_0x3de9[1]]((PPMIN + Math[_0x3de9[0]](_0x2f39x2, 2) * (PPMAX - PPMIN)) * 10) / 10; purrCycle = 0; msg(PPM + _0x3de9[2]) } function setTone(_0x2f39x2) { TONE = (0.92 + _0x2f39x2 / 8) * BASETONE; msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[3]) } function setVariability(_0x2f39x2) { VARIABILITY = _0x2f39x2; msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[3]) } function setFilter(_0x2f39x2) { filter1[_0x3de9[5]][_0x3de9[4]] = Math[_0x3de9[1]](Math[_0x3de9[0]](_0x2f39x2, 2) * 300 * 10) / 10; if (_0x2f39x2 > 0.5) { filter1[_0x3de9[6]][_0x3de9[4]] = -18 - (_0x2f39x2 - 0.5) * 24; filter2[_0x3de9[5]][_0x3de9[4]] = Math[_0x3de9[1]](20000 - (_0x2f39x2 - 0.5) * 38000); filter2[_0x3de9[6]][_0x3de9[4]] = -(_0x2f39x2 - 0.5) * 12 } else { filter2[_0x3de9[5]][_0x3de9[4]] = Math[_0x3de9[1]](20000 - (0.5 - _0x2f39x2) * 40000); filter2[_0x3de9[6]][_0x3de9[4]] = -(0.5 - _0x2f39x2) * 36 }; meowGain[_0x3de9[6]][_0x3de9[4]] = 0.5 + (1 - _0x2f39x2) / 3; var _0x2f39x6 = _0x3de9[7]; if (_0x2f39x2 > 0.1) { _0x2f39x6 = _0x3de9[8] }; if (_0x2f39x2 > 0.2) { _0x2f39x6 = _0x3de9[9] }; if (_0x2f39x2 > 0.4) { _0x2f39x6 = _0x3de9[10] }; if (_0x2f39x2 > 0.7) { _0x2f39x6 = _0x3de9[11] }; if (_0x2f39x2 > 0.99) { _0x2f39x6 = _0x3de9[12] }; msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[13] + _0x2f39x6) } function setSymmetry(_0x2f39x2) { SYMMETRY = -1 + 2 * _0x2f39x2; if (SYMMETRY > 0) { exGain[_0x3de9[6]][_0x3de9[4]] = 1 - 0.7 * SYMMETRY; inGain[_0x3de9[6]][_0x3de9[4]] = 1 } else { exGain[_0x3de9[6]][_0x3de9[4]] = 1; inGain[_0x3de9[6]][_0x3de9[4]] = 1 + 0.7 * SYMMETRY }; msg(Math[_0x3de9[1]](SYMMETRY * 100) + _0x3de9[3]) } function setMeow(_0x2f39x2) { var _0x2f39x9; MEOW = _0x2f39x2 * _0x2f39x2; _0x2f39x9 = MEOW * 4; if (_0x2f39x9 > 1) { msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[14] + Math[_0x3de9[1]](_0x2f39x9) + _0x3de9[15]) }; if (_0x2f39x9 < 1) { msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[16] + Math[_0x3de9[1]](1 / _0x2f39x9) + _0x3de9[17]) }; if (MEOW == 0) { msg(Math[_0x3de9[1]](_0x2f39x2 * 100) + _0x3de9[18]) } }
		function loadSoundSetAndPlay() {
			bufferLoader = new BufferLoader(
				context,
				[
					path + INFILE + fileExt,
					path + EXFILE + fileExt,
					path + MFILE + fileExt,
					path + "5s" + fileExt,
				],
				finishedLoading
			);
			bufferLoader.load();
		}

		function finishedLoading(bf) {

			webAudioContextCheck();

			if (bSUSPENDED == 1) displayWarning();

			bufferList = bf;

			inSound = context.createBufferSource();
			inSound.buffer = bufferList[0];
			inSound.connect(inEnv);
			inSound.loop = 1;
			inSound.start(0, 0);

			exSound = context.createBufferSource();
			exSound.buffer = bufferList[1];
			exSound.connect(exEnv);
			exSound.loop = 1;
			exSound.start(0, 0);

			purrIn();

			// fadeIn(name,level,1);
		}

		function ran(min, max) {
			return (min + Math.random() * (max - min));
		}

		var _0x9301 = ["\x6E\x6F\x77", "\x66\x6C\x6F\x6F\x72", "\x6D\x61\x78", "\x6D\x69\x6E", "\x6C\x65\x6E\x67\x74\x68", "\x76\x61\x6C\x75\x65", "\x70\x6C\x61\x79\x62\x61\x63\x6B\x52\x61\x74\x65", "\x63\x75\x72\x72\x65\x6E\x74\x54\x69\x6D\x65", "\x6C\x69\x6E\x65\x61\x72\x52\x61\x6D\x70\x54\x6F\x56\x61\x6C\x75\x65\x41\x74\x54\x69\x6D\x65", "\x67\x61\x69\x6E", "\x63\x72\x65\x61\x74\x65\x42\x75\x66\x66\x65\x72\x53\x6F\x75\x72\x63\x65", "\x62\x75\x66\x66\x65\x72", "\x63\x6F\x6E\x6E\x65\x63\x74", "\x6F\x6E\x65\x6E\x64\x65\x64", "\x73\x74\x61\x72\x74", "\x6F\x70\x61\x63\x69\x74\x79", "\x73\x74\x79\x6C\x65", "\x6D\x79\x46\x73\x49\x6D\x67", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64"];

		function purrIn() {
			if (bPurrIn == 0) {
				bPurrIn = 1; var _0xd6f2x2 = performance[_0x9301[0]]() - refTimeIn; bTimeToMeow = 0; var _0xd6f2x3; if (MEOW > 0) { _0xd6f2x3 = Math[_0x9301[1]](ran(0, PPM / MEOW / 4)); if (_0xd6f2x3 == 0) { bTimeToMeow = 1 } }; globalR = ran(0.9, 1.1); if (purrCycle == 0) { if (ran(0, 1) < VARIABILITY / 2) { purrCycle = Math[_0x9301[1]](ran(2, 5)); var _0xd6f2x4 = ran(Math[_0x9301[2]](PPM / 2, PPMIN), Math[_0x9301[3]](PPM * 3, PPMAX)); T = 60 / _0xd6f2x4 } else { T = 60 / PPM * globalR } } else { purrCycle-- }; var _0xd6f2x5 = TIN * globalR; var _0xd6f2x6 = PIN + ran(0, 0.05); var _0xd6f2x7 = []; var _0xd6f2x8 = []; var _0xd6f2x9 = ran(0.85, 1.0); for (var _0xd6f2xa = 0; _0xd6f2xa < INENVL[_0x9301[4]]; _0xd6f2xa++) { _0xd6f2x7[_0xd6f2xa] = INENVL[_0xd6f2xa] * ran(0.85, 1.0); _0xd6f2x8[_0xd6f2xa] = INENVT[_0xd6f2xa] * _0xd6f2x9 }; inSound[_0x9301[6]][_0x9301[5]] = TONE + ran(-0.03, 0.03); var _0xd6f2xb = context[_0x9301[7]]; inEnv[_0x9301[9]][_0x9301[8]](0, _0xd6f2xb); for (var _0xd6f2xa = 0; _0xd6f2xa < _0xd6f2x7[_0x9301[4]]; _0xd6f2xa++) { inEnv[_0x9301[9]][_0x9301[8]](_0xd6f2x7[_0xd6f2xa], _0xd6f2xb + T * _0xd6f2x5 * _0xd6f2x8[_0xd6f2xa]) }; audioTimer = context[_0x9301[10]](); audioTimer[_0x9301[11]] = bufferList[3]; audioTimer[_0x9301[12]](masterGain); if (bTimeToMeow == 1) { audioTimer[_0x9301[13]] = function () { meow(); purrOut() } } else { audioTimer[_0x9301[13]] = function () { purrOut() } }; audioTimer[_0x9301[14]](0, 0, T * (_0xd6f2x5 + _0xd6f2x6)); if (bBREATHE == 1) { document[_0x9301[18]](_0x9301[17])[_0x9301[16]][_0x9301[15]] = 1 }
			}
		}
		function purrOut() {
			bPurrIn = 0; var _0xd6f2x5 = TIN * globalR; var _0xd6f2x6 = PIN * ran(0, 1); var _0xd6f2xd = PEX * ran(0, 1); var _0xd6f2xe = (1 - _0xd6f2x5 - _0xd6f2x6 - _0xd6f2xd); var _0xd6f2xf = []; var _0xd6f2x10 = []; var _0xd6f2x9 = ran(0.85, 1.0); var _0xd6f2x11 = 0; for (var _0xd6f2xa = 0; _0xd6f2xa < EXENVL[_0x9301[4]]; _0xd6f2xa++) { if (bTimeToMeow) { _0xd6f2x11 = 0.9 } else { _0xd6f2x11 = 0.6 * bMUTE }; _0xd6f2xf[_0xd6f2xa] = EXENVL[_0xd6f2xa] * ran(0.85, 1.0) * (1 - _0xd6f2x11); _0xd6f2x10[_0xd6f2xa] = EXENVT[_0xd6f2xa] * _0xd6f2x9 * (1 + 0.5 * (bTimeToMeow || bMUTE)) }; exSound[_0x9301[6]][_0x9301[5]] = TONE + ran(-0.03, 0.03); var _0xd6f2xb = context[_0x9301[7]]; exEnv[_0x9301[9]][_0x9301[8]](0, _0xd6f2xb); for (var _0xd6f2xa = 0; _0xd6f2xa < _0xd6f2xf[_0x9301[4]]; _0xd6f2xa++) { exEnv[_0x9301[9]][_0x9301[8]](_0xd6f2xf[_0xd6f2xa], _0xd6f2xb + T * _0xd6f2xe * _0xd6f2x10[_0xd6f2xa]) }; refTimeIn = performance[_0x9301[0]]() + T * (_0xd6f2xe + _0xd6f2xd) * 1000; audioTimer = context[_0x9301[10]](); audioTimer[_0x9301[11]] = bufferList[3]; audioTimer[_0x9301[12]](masterGain); if (bMUTE == 0) { audioTimer[_0x9301[13]] = function () { purrIn() } }; audioTimer[_0x9301[14]](0, 0, T * (_0xd6f2xe + _0xd6f2xd)); if (bBREATHE == 1) { document[_0x9301[18]](_0x9301[17])[_0x9301[16]][_0x9301[15]] = 0.7 }
		}
		function meow() {
			if (bMEOWING == 0) {
				bMEOWING = 1; var _0xd6f2x13 = context[_0x9301[10]](); _0xd6f2x13[_0x9301[11]] = bufferList[2]; _0xd6f2x13[_0x9301[6]][_0x9301[5]] = 0.85 + ran(0, 0.3); _0xd6f2x13[_0x9301[12]](meowGain); _0xd6f2x13[_0x9301[13]] = function () { bMEOWING = 0 }; var _0xd6f2x14 = Math[_0x9301[1]](ran(0, mSprites[_0x9301[4]] - 1)); _0xd6f2x13[_0x9301[14]](context[_0x9301[7]], mSprites[_0xd6f2x14], mSprites[_0xd6f2x14 + 1] - mSprites[_0xd6f2x14])
			}
		}
		function msg(msg) {
			$("#msg").html(msg);
		}
		function cycleTimer(time) {

			if (typeof time === "undefined") {
				var elapsed = timerEndTime - (new Date).getTime();
				iTimer = Math.max(0, elapsed / 60000 + 0.4);
				if (iTimer < 1) { iTimer = 1; msg("定时1分钟"); $('#timer').addClass('ctrlOn'); }
				else if (iTimer < 5) { iTimer = 5; msg("定时5分钟"); }
				else if (iTimer < 10) { iTimer = 10; msg("定时10分钟"); }
				else if (iTimer < 15) { iTimer = 15; msg("定时15分钟"); }
				else if (iTimer < 20) { iTimer = 20; msg("定时20分钟"); }
				else if (iTimer < 25) { iTimer = 25; msg("番茄钟! (25分钟)"); }
				else if (iTimer < 30) { iTimer = 30; msg("定时30分钟"); }
				else if (iTimer < 45) { iTimer = 45; msg("定时45分钟"); }
				else if (iTimer < 60) { iTimer = 60; msg("定时1小时"); }
				else if (iTimer < 90) { iTimer = 90; msg("定时90分钟"); }
				else if (iTimer < 120) { iTimer = 120; msg("定时2小时"); }
				else { iTimer = -1; msg("定时器已停用"); $('#timer').removeClass('ctrlOn'); $("#remainingTime").html(""); };
			}
			else {
				if (time == 0) { iTimer = 0; }
				else {
					iTimer = time;
					msg("定时" + time + "分钟");
				}
			}

			timerEndTime = (new Date).getTime() + iTimer * 60000;
			updateTimer();

		}

		function updateTimer() {

			if (iTimer == -1) {
				clearTimeout(timerTimeout);
			}
			else {

				var timeRemain = (timerEndTime - (new Date).getTime()) / 60000;

				if (timeRemain <= 0) {
					// reset
					iTimer = 0;
					toggleMute();
					$('#timer').removeClass('ctrlOn');
					$("#remainingTime").html("");
					msg("时间到！");
				}
				else {
					$("#remainingTime").html(Math.ceil(timeRemain));
					clearTimeout(timerTimeout);
					timerTimeout = setTimeout(function () { updateTimer(); }, 10000);
				}
			}
		}

		function goTo(id) {
			closeNav();
			document.getElementById(id).scrollIntoView();
		}

		function displayWarning() {
			document.getElementById("warning").style.visibility = "initial";
			$(".overlayFsBg").css("background", "#546");
			document.getElementById("myFsBg").style.right = 0;
		}

		function closeWarning() {
			document.getElementById("warning").style.visibility = "hidden";
			$(".overlayFsBg").css("background", "#000");
			document.getElementById("myFsBg").style.right = "-100%";
		}

		function sc(cname, cvalue, exdays) {
			var d = new Date();
			d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
			var expires = "expires=" + d.toUTCString();
			document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
		}

		function gc(cname) {
			var name = cname + "=";
			var decodedCookie = decodeURIComponent(document.cookie);
			var ca = decodedCookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			}
			return "";
		}

	</script>
</body>

</html>